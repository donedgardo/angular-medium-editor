/**
 * angular-medium-editor
 * @version v0.0.6 - 2015-01-28
 * @link https://github.com/thijsw/angular-medium-editor
 * @author Thijs Wijnmaalen <thijs@wijnmaalen.name>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{require:["ngModel","mediumEditor"],restrict:"AE",scope:{bindOptions:"="},controller:function(){},link:function(a,b,c,d){angular.element(b).addClass("angular-medium-editor"),d[1].editor=new MediumEditor(b,e);var e={},f="",g=function(){c.options&&(e=a.$eval(c.options));var b={};void 0!==a.bindOptions&&(b=a.bindOptions),e=angular.extend(e,b)};g(),f=e.placeholder,a.$watch("bindOptions",function(){d[1].editor&&d[1].editor.deactivate(),g(),d[0].$isEmpty(d[0].$viewValue)||(e.placeholder=""),d[1].editor=new MediumEditor(b,e)});var h=function(){a.$apply(function(){("<p><br></p>"===b.html()||""===b.html())&&(e.placeholder=f,d[1].editor=new MediumEditor(b,e)),d[0].$setViewValue(b.html())})};b.on("blur",h),b.on("input",h),d[0].$render=function(){d[1].editor||(d[0].$isEmpty(d[0].$viewValue)||(e.placeholder=""),d[1].editor=new MediumEditor(b,e)),b.html(d[0].$isEmpty(d[0].$viewValue)?"":d[0].$viewValue),d[0].$isEmpty(d[0].$viewValue)||angular.element(b).removeClass("medium-editor-placeholder")}}}});