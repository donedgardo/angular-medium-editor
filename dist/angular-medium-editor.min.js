/**
 * angular-medium-editor
 * @version v0.0.6 - 2015-01-28
 * @link https://github.com/thijsw/angular-medium-editor
 * @author Thijs Wijnmaalen <thijs@wijnmaalen.name>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{template:"<div class='mediumContent'></div><div ng-transclude></div>",require:["ngModel","mediumEditor"],restrict:"AE",scope:{bindOptions:"="},transclude:!0,controller:function(){},link:function(a,b,c,d){var e=b.children(".mediumContent");d[1].editorElement=e,angular.element(e).addClass("angular-medium-editor"),d[1].editor=new MediumEditor(e,f);var f={},g="",h=function(){c.options&&(f=a.$eval(c.options));var b={};void 0!==a.bindOptions&&(b=a.bindOptions),f=angular.extend(f,b)};h(),g=f.placeholder,a.$watch("bindOptions",function(){d[1].editor&&d[1].editor.deactivate(),h(),d[0].$isEmpty(d[0].$viewValue)||(f.placeholder=""),d[1].editor=new MediumEditor(e,f)});var i=function(){a.$apply(function(){("<p><br></p>"===e.html()||""===e.html())&&(f.placeholder=g,d[1].editor=new MediumEditor(e,f)),d[0].$setViewValue(e.html())})};e.on("blur",i),e.on("input",i),d[0].$render=function(){d[1].editor||(d[0].$isEmpty(d[0].$viewValue)||(f.placeholder=""),d[1].editor=new MediumEditor(e,f)),e.html(d[0].$isEmpty(d[0].$viewValue)?"":d[0].$viewValue),d[0].$isEmpty(d[0].$viewValue)||angular.element(e).removeClass("medium-editor-placeholder")}}}});